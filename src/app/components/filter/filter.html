<!-- Filters Section -->
<mat-card class="filters-card">
  <div class="filters-content">
    <div class="search-section">
      <mat-form-field appearance="outline" class="search-field">
        <mat-label>Search tasks...</mat-label>
        <input
          matInput
          [formControl]="searchControl"
          placeholder="Search by title, description, assignee, or tags"
        />
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </div>

    <div class="filter-section">
      <mat-form-field appearance="outline" class="filter-field">
        <mat-label>Status</mat-label>
        <mat-select [formControl]="statusControl" multiple>
          <mat-option *ngFor="let status of statusOptions" [value]="status.value">
            {{ status.label }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="filter-field">
        <mat-label>Priority</mat-label>
        <mat-select [formControl]="priorityControl" multiple>
          <mat-option *ngFor="let priority of priorityOptions" [value]="priority.value">
            {{ priority.label }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="filter-field">
        <mat-label>Assignee</mat-label>
        <mat-select [formControl]="assigneeControl" multiple>
          <mat-option value="unassigned">Unassigned</mat-option>
          <mat-option *ngFor="let user of users()" [value]="user.id">
            {{ user.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <div class="filter-toggles">
        <button
          mat-stroked-button
          [color]="showOverdueOnly() ? 'warn' : 'basic'"
          (click)="onToggleOverdue()"
          class="overdue-toggle"
        >
          <mat-icon>{{ showOverdueOnly() ? 'warning' : 'schedule' }}</mat-icon>
          {{ showOverdueOnly() ? 'Showing Overdue' : 'Show Overdue' }}
        </button>
      </div>

      <button mat-stroked-button (click)="onClearFilters()" class="clear-filters-btn">
        <mat-icon>clear</mat-icon>
        Clear Filters
      </button>
    </div>
  </div>
</mat-card>
