<div
  class="sidenav-content"
  [class.collapsed]="isCollapsed()"
  role="navigation"
  aria-label="Main navigation"
>
  <div class="sidenav-header">
    <div class="logo-container">
      <mat-icon class="logo-icon" aria-hidden="true">shopping_cart</mat-icon>
      <h2 class="logo-text" [class.hidden]="isCollapsed()" id="sidenav-heading">Task Pro</h2>
    </div>
    @if (!isHandset()) {
    <button
      mat-icon-button
      class="collapse-btn"
      (click)="onToggleCollapse()"
      [attr.aria-expanded]="!isCollapsed()"
      aria-controls="nav-list-container"
      [attr.aria-label]="isCollapsed() ? 'Expand navigation' : 'Collapse navigation'"
    >
      <mat-icon aria-hidden="true">{{ isCollapsed() ? 'chevron_right' : 'chevron_left' }}</mat-icon>
    </button>
    }
  </div>

  <mat-nav-list
    class="nav-list"
    id="nav-list-container"
    role="list"
    aria-labelledby="sidenav-heading"
  >
    <a
      mat-list-item
      routerLink="/tasks"
      routerLinkActive="active-link"
      class="nav-item"
      [matTooltip]="isCollapsed() ? 'Tasks' : ''"
      matTooltipPosition="right"
      (click)="onNavItemClick()"
      aria-label="Go to Task List"
    >
      <mat-icon matListItemIcon aria-hidden="true">assignment</mat-icon>
      <span matListItemTitle [class.hidden]="isCollapsed()">Task List</span>
    </a>

    <a
      mat-list-item
      routerLink="/users"
      routerLinkActive="active-link"
      class="nav-item"
      [matTooltip]="isCollapsed() ? 'Users' : ''"
      matTooltipPosition="right"
      (click)="onNavItemClick()"
      aria-label="Go to Users"
    >
      <mat-icon matListItemIcon aria-hidden="true">people</mat-icon>
      <span matListItemTitle [class.hidden]="isCollapsed()">Users</span>
    </a>

    <a
      mat-list-item
      routerLink="/settings"
      routerLinkActive="active-link"
      class="nav-item"
      [matTooltip]="isCollapsed() ? 'Settings' : ''"
      matTooltipPosition="right"
      (click)="onNavItemClick()"
      aria-label="Go to Settings"
    >
      <mat-icon matListItemIcon aria-hidden="true">settings</mat-icon>
      <span matListItemTitle [class.hidden]="isCollapsed()">Settings</span>
    </a>
  </mat-nav-list>

  <div class="sidenav-footer">
    <button
      mat-icon-button
      class="theme-toggle"
      (click)="onToggleTheme()"
      [matTooltip]="isDarkMode() ? 'Switch to light mode' : 'Switch to dark mode'"
      matTooltipPosition="right"
      [attr.aria-pressed]="isDarkMode()"
      aria-label="Toggle color theme"
    >
      <mat-icon aria-hidden="true">{{ isDarkMode() ? 'light_mode' : 'dark_mode' }}</mat-icon>
    </button>
    <span class="theme-label" [class.hidden]="isCollapsed()" aria-hidden="true">
      {{ isDarkMode() ? 'Light Mode' : 'Dark Mode' }}
    </span>
  </div>
</div>
